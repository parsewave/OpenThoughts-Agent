export SBATCH_ACCOUNT=m5091
export SALLOC_ACCOUNT=m5091
export WANDB_ENTITY=dogml
export WANDB_PROJECT=OpenThoughts-Agent

export DCFT=${SCRATCH}/OpenThoughts-Agent
export CHECKPOINTS_DIR=${SCRATCH}/checkpoints
export MODELS_DIR=${SCRATCH}/hub
export DATASETS_DIR=${SCRATCH}/hub
export TOKENIZED_DATASETS_DIR=${SCRATCH}/tokenized_datasets
export HF_HUB_CACHE=${SCRATCH}/hub
export HF_CACHE_DIR=${SCRATCH}/hf_cache
export HF_HOME=${HF_HUB_CACHE}
export VLLM_CACHE_ROOT=${SCRATCH}/vllm
export TRITON_CACHE_DIR=${SCRATCH}/triton_cache

export DCFT_ACTIVATE_ENV="module load conda && source \$HOME/.bashrc && conda activate dcagent && source \$HOME/secrets.env"
export DATAGEN_ACTIVATE_ENV="module load conda && source \$HOME/.bashrc && conda activate vllm_harbor && source \$HOME/secrets.env"
export EVALCHEMY_ACTIVATE_ENV="${DCFT_ACTIVATE_ENV}"
export VLLM_ACTIVATE_ENV="${DCFT_ACTIVATE_ENV}"
export DC_AGENT_SECRET_ENV="${HOME}/secrets.env"

export NUM_NODES_SLOW=1
export NUM_NODES_DEFAULT=4
export NUM_NODES_FAST=8
export NUM_GPUS_PER_NODE=4
export DEFAULT_TIME_LIMIT=168:00:00
export MAX_TIME_LIMIT=168:00:00

export PYTORCH_CUDA_ALLOW_TF32=1
export PYTORCH_CUDNN_ALLOW_TF32=1
export PYTHONFAULTHANDLER=1
# Keep the repo importable even if Python strips the working directory from sys.path.
export PYTHONPATH="${DCFT_PRIVATE:-$DCFT}${PYTHONPATH:+:$PYTHONPATH}"
